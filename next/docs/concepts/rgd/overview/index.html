<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/concepts/rgd/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Overview | kro</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kro.run/kro/img/kro.svg"><meta data-rh="true" name="twitter:image" content="https://kro.run/kro/img/kro.svg"><meta data-rh="true" property="og:url" content="https://kro.run/kro/next/docs/concepts/rgd/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overview | kro"><meta data-rh="true" name="description" content="A ResourceGraphDefinition (RGD) lets you create a custom Kubernetes API that deploys multiple resources together as a single unit. It&#x27;s the only API you need to configure kro - you define the schema for your new API, the resources it should create, and how data flows between them using CEL expressions."><meta data-rh="true" property="og:description" content="A ResourceGraphDefinition (RGD) lets you create a custom Kubernetes API that deploys multiple resources together as a single unit. It&#x27;s the only API you need to configure kro - you define the schema for your new API, the resources it should create, and how data flows between them using CEL expressions."><link data-rh="true" rel="icon" href="/kro/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kro.run/kro/next/docs/concepts/rgd/overview"><link data-rh="true" rel="alternate" href="https://kro.run/kro/next/docs/concepts/rgd/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://kro.run/kro/next/docs/concepts/rgd/overview" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Overview","item":"https://kro.run/kro/next/docs/concepts/rgd/overview"}]}</script><meta name="go-import" content="kro.run/pkg git https://github.com/kubernetes-sigs/kro">
<meta name="go-source" content="kro.run/pkg git https://github.com/kubernetes-sigs/kro https://github.com/kubernetes-sigs/kro/tree/main{/dir} https://github.com/kubernetes-sigs/kro/blob/main{/dir}/{file}#L{line}"><link rel="stylesheet" href="/kro/assets/css/styles.5d887e16.css">
<script src="/kro/assets/js/runtime~main.93cc2f97.js" defer="defer"></script>
<script src="/kro/assets/js/main.e10b7e1d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kro/"><b class="navbar__title text--truncate">kro</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kro/next/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/kro/next/api/reference">Reference</a><a class="navbar__item navbar__link" href="/kro/next/examples/">Examples</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/kro/next/docs/concepts/rgd/overview">main</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kro/next/docs/concepts/rgd/overview">main</a></li><li><a class="dropdown__link" href="/kro/docs/concepts/rgd/overview">0.7.1</a></li><li><a class="dropdown__link" href="/kro/0.7.0/docs/concepts/rgd/overview">0.7.0</a></li><li><a class="dropdown__link" href="/kro/0.6.3/docs/overview">0.6.3</a></li><li><a class="dropdown__link" href="/kro/0.6.2/docs/overview">0.6.2</a></li><li><a class="dropdown__link" href="/kro/0.6.1/docs/overview">0.6.1</a></li><li><a class="dropdown__link" href="/kro/0.6.0/docs/overview">0.6.0</a></li><li><a class="dropdown__link" href="/kro/0.5.1/docs/overview">0.5.1</a></li><li><a class="dropdown__link" href="/kro/0.5.0/docs/overview">0.5.0</a></li><li><a class="dropdown__link" href="/kro/0.4.1/docs/overview">0.4.1</a></li><li><a class="dropdown__link" href="/kro/0.4.0/docs/overview">0.4.0</a></li><li><a class="dropdown__link" href="/kro/0.3.0/docs/overview">0.3.0</a></li><li><a class="dropdown__link" href="/kro/0.2.2/docs/overview">0.2.2</a></li><li><a class="dropdown__link" href="/kro/0.2.1/docs/overview">0.2.1</a></li><li><a class="dropdown__link" href="/kro/0.2.0/docs/overview">0.2.0</a></li><li><a class="dropdown__link" href="/kro/0.1.0/docs/overview">0.1.0</a></li><li class=""><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/kro/versions">All versions</a></li></ul></div><a href="https://github.com/kubernetes-sigs/kro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/kro/"><b>kro</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kro/next/docs/overview"><span title="What is kro?" class="linkLabel_WmDU">What is kro?</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kro/next/docs/getting-started/Installation"><span title="Getting started" class="categoryLinkLabel_W154">Getting started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/getting-started/Installation"><span title="Installing kro" class="linkLabel_WmDU">Installing kro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/getting-started/deploy-a-resource-graph-definition"><span title="Quick Start" class="linkLabel_WmDU">Quick Start</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/kro/next/docs/concepts/rgd/overview"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/kro/next/docs/concepts/rgd/overview"><span title="ResourceGraphDefinitions" class="categoryLinkLabel_W154">ResourceGraphDefinitions</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kro/next/docs/concepts/rgd/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/schema"><span title="Schema Definition" class="linkLabel_WmDU">Schema Definition</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/resource-basics"><span title="Resource Definitions" class="categoryLinkLabel_W154">Resource Definitions</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/resource-basics"><span title="Basics" class="linkLabel_WmDU">Basics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/conditional-creation"><span title="Conditionals" class="linkLabel_WmDU">Conditionals</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/readiness"><span title="Readiness" class="linkLabel_WmDU">Readiness</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/collections"><span title="Collections" class="linkLabel_WmDU">Collections</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/resource-definitions/external-references"><span title="External References" class="linkLabel_WmDU">External References</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/cel-expressions"><span title="CEL Expressions" class="linkLabel_WmDU">CEL Expressions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/dependencies-ordering"><span title="Graph Inference" class="linkLabel_WmDU">Graph Inference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/rgd/static-type-checking"><span title="Static Analysis" class="linkLabel_WmDU">Static Analysis</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/concepts/instances"><span title="Instances" class="linkLabel_WmDU">Instances</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kro/next/docs/advanced/access-control"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/advanced/access-control"><span title="Access Control" class="linkLabel_WmDU">Access Control</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/advanced/rgd-chaining"><span title="RGD Chaining" class="linkLabel_WmDU">RGD Chaining</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/advanced/controller-tuning"><span title="Controller Tuning" class="linkLabel_WmDU">Controller Tuning</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kro/next/docs/advanced/metrics"><span title="Controller Metrics" class="linkLabel_WmDU">Controller Metrics</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kro/next/docs/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->kro<!-- --> <b>main</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/kro/docs/concepts/rgd/overview">latest version</a></b> (<!-- -->0.7.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kro/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ResourceGraphDefinitions</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Overview</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: main</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Overview</h1></header>
<p>A <strong>ResourceGraphDefinition</strong> (RGD) lets you create a custom Kubernetes API that deploys multiple resources together as a single unit. It&#x27;s the only API you need to configure kro - you define the schema for your new API, the resources it should create, and how data flows between them using CEL expressions.</p>
<p>When you apply an RGD, kro configures itself to serve your new API. It generates a CRD, registers it with the Kubernetes API server, and starts watching for instances. When users create instances of your API, kro creates the underlying resources in the correct order, wires values between them, and manages their full lifecycle.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-it-works">How it Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How it Works" title="Direct link to How it Works" translate="no">​</a></h2>
<ol>
<li><strong>You create an RGD</strong> defining a new API (like <code>Application</code>)</li>
<li><strong>kro generates a CRD</strong> for your API</li>
<li><strong>Users create instances</strong> of your API</li>
<li><strong>kro creates and manages</strong> all the underlying resources</li>
</ol>
<div style="text-align:center;margin-top:2rem;margin-bottom:2rem"><img src="/img/overview-diag.svg" alt="kro RGD Flow" style="max-width:600px;width:100%"></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h2>
<p>Here&#x27;s an RGD that creates a new <code>Application</code> API. When users create an <code>Application</code>, kro automatically creates a Deployment:</p>
<div class="codeBlockContainer_X7hc"><div class="codeBlockContent_vqWU"><button class="copyButton_H_xL" title="Copy"><svg viewBox="0 0 24 24" class="copyIcon_el7_"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg></button><pre class="kroCodeBlock_J7AA"><code><span class="yamlKey_lCMJ">apiVersion</span>: <!-- -->kro.run/v1alpha1<!-- -->
<span class="yamlKey_lCMJ">kind</span>: <!-- -->ResourceGraphDefinition<!-- -->
<span class="yamlKey_lCMJ">metadata</span>:<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">name</span>: <!-- -->application<!-- -->
<span class="yamlKey_lCMJ">spec</span>:<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">schema</span>:<!-- -->
<!-- -->    <span class="yamlKey_lCMJ">apiVersion</span>: <!-- -->v1alpha1<!-- -->
<!-- -->    <span class="yamlKey_lCMJ">kind</span>: <!-- -->Application<!-- -->
<!-- -->    <span class="yamlKey_lCMJ">spec</span>:<!-- -->
<!-- -->      <span class="yamlKey_lCMJ">name</span>: <span class="schemaType_ZceW">string</span>
<!-- -->      <span class="yamlKey_lCMJ">image</span>: <span class="schemaType_ZceW">string</span><span class="schemaPipe_JhzG"> | </span><span class="schemaKeyword_VDfY">default</span><span class="schemaValue_rqRM">=&quot;nginx:latest&quot;</span>
<!-- -->      <span class="yamlKey_lCMJ">replicas</span>: <span class="schemaType_ZceW">integer</span><span class="schemaPipe_JhzG"> | </span><span class="schemaKeyword_VDfY">default</span><span class="schemaValue_rqRM">=3</span>
<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">resources</span>:<!-- -->
<!-- -->    <!-- -->- <span class="kroKeyword_GbQ5">id</span>: <!-- -->deployment<!-- -->
<!-- -->      <span class="kroKeyword_GbQ5">template</span>:<!-- -->
<!-- -->        <span class="yamlKey_lCMJ">apiVersion</span>: <!-- -->apps/v1<!-- -->
<!-- -->        <span class="yamlKey_lCMJ">kind</span>: <!-- -->Deployment<!-- -->
<!-- -->        <span class="yamlKey_lCMJ">metadata</span>:<!-- -->
<!-- -->          <span class="yamlKey_lCMJ">name</span>: <span class="celExpression_MAYK">${schema.spec.name}</span>
<!-- -->        <span class="yamlKey_lCMJ">spec</span>:<!-- -->
<!-- -->          <span class="yamlKey_lCMJ">replicas</span>: <span class="celExpression_MAYK">${schema.spec.replicas}</span>
<!-- -->          <span class="yamlKey_lCMJ">selector</span>:<!-- -->
<!-- -->            <span class="yamlKey_lCMJ">matchLabels</span>:<!-- -->
<!-- -->              <span class="yamlKey_lCMJ">app</span>: <span class="celExpression_MAYK">${schema.spec.name}</span>
<!-- -->          <span class="kroKeyword_GbQ5">template</span>:<!-- -->
<!-- -->            <span class="yamlKey_lCMJ">metadata</span>:<!-- -->
<!-- -->              <span class="yamlKey_lCMJ">labels</span>:<!-- -->
<!-- -->                <span class="yamlKey_lCMJ">app</span>: <span class="celExpression_MAYK">${schema.spec.name}</span>
<!-- -->            <span class="yamlKey_lCMJ">spec</span>:<!-- -->
<!-- -->              <span class="yamlKey_lCMJ">containers</span>:<!-- -->
<!-- -->                <!-- -->- <span class="yamlKey_lCMJ">name</span>: <!-- -->app<!-- -->
<!-- -->                  <span class="yamlKey_lCMJ">image</span>: <span class="celExpression_MAYK">${schema.spec.image}</span></code></pre></div></div>
<p>Users can now create applications:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#1f2937;--prism-background-color:#fafafa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#1f2937;background-color:#fafafa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#1f2937"><span class="token key atrule" style="color:#6b7280">apiVersion</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> v1alpha1</span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain"></span><span class="token key atrule" style="color:#6b7280">kind</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> Application</span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain"></span><span class="token key atrule" style="color:#6b7280">metadata</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain">  </span><span class="token key atrule" style="color:#6b7280">name</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#9ca3af">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain"></span><span class="token key atrule" style="color:#6b7280">spec</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain">  </span><span class="token key atrule" style="color:#6b7280">name</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#9ca3af">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain">  </span><span class="token key atrule" style="color:#6b7280">image</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token number" style="color:#1f2937">1.27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#1f2937"><span class="token plain">  </span><span class="token key atrule" style="color:#6b7280">replicas</span><span class="token punctuation" style="color:#9ca3af">:</span><span class="token plain"> </span><span class="token number" style="color:#1f2937">5</span><br></span></code></pre></div></div>
<p>kro will create and manage the Deployment automatically.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="anatomy-of-a-resourcegraphdefinition">Anatomy of a ResourceGraphDefinition<a href="#anatomy-of-a-resourcegraphdefinition" class="hash-link" aria-label="Direct link to Anatomy of a ResourceGraphDefinition" title="Direct link to Anatomy of a ResourceGraphDefinition" translate="no">​</a></h2>
<p>An RGD has the standard Kubernetes resource structure:</p>
<div class="codeBlockContainer_X7hc"><div class="codeBlockContent_vqWU"><button class="copyButton_H_xL" title="Copy"><svg viewBox="0 0 24 24" class="copyIcon_el7_"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg></button><pre class="kroCodeBlock_J7AA"><code><span class="yamlKey_lCMJ">apiVersion</span>: <!-- -->kro.run/v1alpha1<!-- -->
<span class="yamlKey_lCMJ">kind</span>: <!-- -->ResourceGraphDefinition<!-- -->
<span class="yamlKey_lCMJ">metadata</span>: <!-- -->{}      <span class="comment_cniX"># Standard Kubernetes metadata</span>
<span class="yamlKey_lCMJ">spec</span>:<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">schema</span>: <!-- -->{}      <span class="comment_cniX"># Define your custom API</span>
<!-- -->  <span class="yamlKey_lCMJ">resources</span>: <!-- -->[]   <span class="comment_cniX"># Define Kubernetes resources to create</span>
<span class="yamlKey_lCMJ">status</span>: <!-- -->          <span class="comment_cniX"># Managed by kro</span>
<!-- -->  <span class="yamlKey_lCMJ">conditions</span>: <!-- -->[]<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">state</span>: <!-- -->&quot;&quot;<!-- -->
<!-- -->  <span class="yamlKey_lCMJ">topologicalOrder</span>: <!-- -->[]</code></pre></div></div>
<ul>
<li><strong><code>metadata</code></strong> - Standard Kubernetes metadata (name, labels, annotations)</li>
<li><strong><code>spec.schema</code></strong> - Your custom API: what fields users can configure and what computed values to expose</li>
<li><strong><code>spec.resources</code></strong> - The Kubernetes resources to create and manage (Deployments, Services, etc.)</li>
<li><strong><code>status</code></strong> - Current state managed by kro: conditions, overall state, and computed creation order</li>
</ul>
<p>For complete field documentation, see the <a href="/kro/next/api/crds/resourcegraphdefinition">RGD API Reference</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-kro-processes-rgds">How kro Processes RGDs<a href="#how-kro-processes-rgds" class="hash-link" aria-label="Direct link to How kro Processes RGDs" title="Direct link to How kro Processes RGDs" translate="no">​</a></h2>
<p>kro performs extensive static analysis to catch errors <strong>before deployment</strong>. Rather than discovering issues when users create instances, kro validates everything upfront when you create the RGD. Type errors, non-existent fields, missing CRDs, syntax issues, and circular dependencies are all caught during RGD creation, giving you immediate feedback.</p>
<div style="text-align:center;margin:3rem 0"><p><img decoding="async" loading="lazy" alt="RGD Validation Flow" src="/kro/assets/images/rgd-validation-0df045230845d0a26a4b1e13c7b4a78e.svg" width="1207" height="477" class="img_ev3q"></p></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="static-analysis-and-validation">Static Analysis and Validation<a href="#static-analysis-and-validation" class="hash-link" aria-label="Direct link to Static Analysis and Validation" title="Direct link to Static Analysis and Validation" translate="no">​</a></h3>
<p>kro validates your RGD <strong>before any instances are created</strong>. When you create a ResourceGraphDefinition:</p>
<ol>
<li><strong>Schema validation</strong> - Ensures your schema follows the <a href="/kro/next/api/specifications/simple-schema">SimpleSchema</a> format</li>
<li><strong>CRD verification</strong> - Validates that all referenced resource types (Deployments, Services, etc.) exist in your cluster</li>
<li><strong>CEL type checking</strong> - Parses and validates all <a href="/kro/next/docs/concepts/rgd/cel-expressions">CEL expressions</a>, checking that:<!-- -->
<ul>
<li>Referenced fields exist in the actual resource schemas</li>
<li>Expression output types match their target field types</li>
<li>All expressions are syntactically correct</li>
</ul>
</li>
<li><strong>Dependency inference</strong> - Automatically analyzes CEL expressions to <a href="/kro/next/docs/concepts/rgd/dependencies-ordering">infer resource dependencies</a> and compute the creation order</li>
</ol>
<p>This validation happens at RGD creation time, catching errors early before any user creates an instance. For a deep dive into how this works, see <a href="/kro/next/docs/concepts/rgd/static-type-checking">Static Analysis</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="automatic-dependency-management">Automatic Dependency Management<a href="#automatic-dependency-management" class="hash-link" aria-label="Direct link to Automatic Dependency Management" title="Direct link to Automatic Dependency Management" translate="no">​</a></h3>
<p>kro analyzes your CEL expressions to automatically infer dependencies between resources. For example, if a Service references <code>${deployment.metadata.name}</code>, kro knows the Deployment must be created first. This dependency graph is used to:</p>
<ul>
<li><strong>Compute creation order</strong> - Resources are created in topological order</li>
<li><strong>Compute deletion order</strong> - Resources are deleted in reverse topological order</li>
<li><strong>Detect circular dependencies</strong> - kro rejects RGDs with circular dependencies</li>
<li><strong>Show the order</strong> - The computed order appears in <code>status.topologicalOrder</code></li>
</ul>
<p>See <a href="/kro/next/docs/concepts/rgd/dependencies-ordering">Dependencies &amp; Ordering</a> for details on how this works.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generated-crds-and-controllers">Generated CRDs and Controllers<a href="#generated-crds-and-controllers" class="hash-link" aria-label="Direct link to Generated CRDs and Controllers" title="Direct link to Generated CRDs and Controllers" translate="no">​</a></h3>
<p>When your RGD is validated and accepted:</p>
<ol>
<li><strong>CRD generation</strong> - kro generates a CustomResourceDefinition for your API and registers it with the Kubernetes API server</li>
<li><strong>Dynamic controller</strong> - kro configures itself to watch for instances of your new API</li>
<li><strong>Lifecycle management</strong> - The controller creates resources in dependency order, evaluates CEL expressions, manages status updates, and handles deletion</li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rgd-status-conditions">RGD Status Conditions<a href="#rgd-status-conditions" class="hash-link" aria-label="Direct link to RGD Status Conditions" title="Direct link to RGD Status Conditions" translate="no">​</a></h3>
<p>kro reports the RGD&#x27;s state through three conditions in <code>status.conditions</code>:</p>
<table><thead><tr><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td><strong>ResourceGraphAccepted</strong></td><td>Whether the RGD spec passed validation. If <code>False</code>, the <code>message</code> field contains the validation error.</td></tr><tr><td><strong>KindReady</strong></td><td>Whether the CRD for your custom API has been generated and registered with Kubernetes.</td></tr><tr><td><strong>ControllerReady</strong></td><td>Whether kro is actively watching for instances of your custom API.</td></tr></tbody></table>
<p>When all three conditions are <code>True</code>, the RGD is fully operational and ready to accept instances. You can check the status with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#1f2937;--prism-background-color:#fafafa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#1f2937;background-color:#fafafa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#1f2937"><span class="token plain">kubectl get rgd </span><span class="token operator" style="color:#9ca3af">&lt;</span><span class="token plain">name</span><span class="token operator" style="color:#9ca3af">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#6b7280">-o</span><span class="token plain"> yaml</span><br></span></code></pre></div></div>
<p>For complete status field documentation, see the <a href="/kro/next/api/crds/resourcegraphdefinition">RGD API Reference</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-rgds-provide">What RGDs Provide<a href="#what-rgds-provide" class="hash-link" aria-label="Direct link to What RGDs Provide" title="Direct link to What RGDs Provide" translate="no">​</a></h2>
<ul>
<li><strong>Type safety</strong>: All CEL expressions are validated when you create the RGD</li>
<li><strong>Dependency management</strong>: kro automatically determines the order to create resources</li>
<li><strong>Validation</strong>: Users get immediate feedback if they provide invalid values</li>
<li><strong>Reusability</strong>: Define once, use many times across teams</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h2>
<p>Explore the details of ResourceGraphDefinitions:</p>
<ul>
<li><strong><a href="/kro/next/docs/concepts/rgd/schema">Schema</a></strong> - Define your custom API structure</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/resource-definitions/resource-basics">Resource Basics</a></strong> - Define resources with CEL expressions</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/resource-definitions/conditional-creation">Conditional Creation</a></strong> - Create resources conditionally with <code>includeWhen</code></li>
<li><strong><a href="/kro/next/docs/concepts/rgd/resource-definitions/readiness">Readiness</a></strong> - Control when resources are considered ready</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/resource-definitions/collections">Collections</a></strong> - Create multiple resources with <code>forEach</code></li>
<li><strong><a href="/kro/next/docs/concepts/rgd/resource-definitions/external-references">External References</a></strong> - Reference resources outside your RGD</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/cel-expressions">CEL Expressions</a></strong> - Reference data between resources</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/dependencies-ordering">Dependencies &amp; Ordering</a></strong> - How kro infers dependencies and determines creation order</li>
<li><strong><a href="/kro/next/docs/concepts/rgd/static-type-checking">Static Type Checking</a></strong> - How kro validates RGDs before instances are created</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/kubernetes-sigs/kro/tree/main/website/docs/docs/concepts/rgd/00-overview.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kro/next/docs/getting-started/deploy-a-resource-graph-definition"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kro/next/docs/concepts/rgd/schema"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schema Definition</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it Works</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#anatomy-of-a-resourcegraphdefinition" class="table-of-contents__link toc-highlight">Anatomy of a ResourceGraphDefinition</a></li><li><a href="#how-kro-processes-rgds" class="table-of-contents__link toc-highlight">How kro Processes RGDs</a><ul><li><a href="#static-analysis-and-validation" class="table-of-contents__link toc-highlight">Static Analysis and Validation</a></li><li><a href="#automatic-dependency-management" class="table-of-contents__link toc-highlight">Automatic Dependency Management</a></li><li><a href="#generated-crds-and-controllers" class="table-of-contents__link toc-highlight">Generated CRDs and Controllers</a></li><li><a href="#rgd-status-conditions" class="table-of-contents__link toc-highlight">RGD Status Conditions</a></li></ul></li><li><a href="#what-rgds-provide" class="table-of-contents__link toc-highlight">What RGDs Provide</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><section class="kroFooter_cB_W"><p class="kroFooterText_sBXB">Brought to you with ♥ by<!-- --> <a href="https://github.com/kubernetes/community/tree/master/sig-cloud-provider" target="_blank" rel="noopener noreferrer">SIG Cloud Provider</a></p></section><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/kro/docs/overview">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/kro/examples/">Examples</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kubernetes.slack.com/archives/C081TMY9D6Y" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/kubernetes-sigs/kro/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribution Guide<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kubernetes-sigs/kro" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCUlcI3NYq9ehl5wsdfbJzSA" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">kro is a subproject of Kubernetes SIG Cloud Provider. Kubernetes is a CNCF graduated project.</div></div></div></footer><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;85e669833a874cdd938772c6e459b33e&quot;}"></script></div>
</body>
</html>