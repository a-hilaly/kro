"use strict";(self.webpackChunkkro_docs=self.webpackChunkkro_docs||[]).push([[7981],{98607:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>p,default:()=>m,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api/crds/resourcegraphdefinition","title":"resourcegraphdefinition","description":"The ResourceGraphDefinition (RGD) is kro\'s core API for defining custom Kubernetes resources that orchestrate multiple underlying resources.","source":"@site/versioned_docs/version-0.7.0/api/crds/resourcegraphdefinition.md","sourceDirName":"api/crds","slug":"/api/crds/resourcegraphdefinition","permalink":"/kro/0.7.0/api/crds/resourcegraphdefinition","draft":false,"unlisted":false,"editUrl":"https://github.com/kubernetes-sigs/kro/tree/main/website/versioned_docs/version-0.7.0/api/crds/resourcegraphdefinition.md","tags":[],"version":"0.7.0","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"ResourceGraphDefinition","hide_breadcrumbs":true,"hide_table_of_contents":true},"sidebar":"apisSidebar","previous":{"title":"Reference","permalink":"/kro/0.7.0/api/reference"},"next":{"title":"SimpleSchema","permalink":"/kro/0.7.0/api/specifications/simple-schema"}}');var r=t(74848),s=t(28453),o=t(13597);const a="---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.19.0\n  name: resourcegraphdefinitions.kro.run\nspec:\n  group: kro.run\n  names:\n    kind: ResourceGraphDefinition\n    listKind: ResourceGraphDefinitionList\n    plural: resourcegraphdefinitions\n    shortNames:\n    - rgd\n    singular: resourcegraphdefinition\n  scope: Cluster\n  versions:\n  - additionalPrinterColumns:\n    - jsonPath: .spec.schema.apiVersion\n      name: APIVERSION\n      type: string\n    - jsonPath: .spec.schema.kind\n      name: KIND\n      type: string\n    - jsonPath: .status.state\n      name: STATE\n      type: string\n    - jsonPath: .status.topologicalOrder\n      name: TOPOLOGICALORDER\n      priority: 1\n      type: string\n    - jsonPath: .metadata.creationTimestamp\n      name: AGE\n      type: date\n    name: v1alpha1\n    schema:\n      openAPIV3Schema:\n        description: ResourceGraphDefinition is the Schema for the resourcegraphdefinitions\n          API\n        properties:\n          apiVersion:\n            description: |-\n              APIVersion defines the versioned schema of this representation of an object.\n              Servers should convert recognized schemas to the latest internal value, and\n              may reject unrecognized values.\n              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources\n            type: string\n          kind:\n            description: |-\n              Kind is a string value representing the REST resource this object represents.\n              Servers may infer this from the endpoint the client submits requests to.\n              Cannot be updated.\n              In CamelCase.\n              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds\n            type: string\n          metadata:\n            type: object\n          spec:\n            description: ResourceGraphDefinitionSpec defines the desired state of\n              ResourceGraphDefinition\n            properties:\n              resources:\n                description: The resources that are part of the resourcegraphdefinition.\n                items:\n                  properties:\n                    externalRef:\n                      description: |-\n                        ExternalRef is a reference to an external resource.\n                        It allows the user to specify the Kind, Version, Name and Namespace of the resource\n                        to be read and used in the Graph.\n                      properties:\n                        apiVersion:\n                          type: string\n                        kind:\n                          type: string\n                        metadata:\n                          properties:\n                            name:\n                              type: string\n                            namespace:\n                              description: Namespace of the external resource. optional,\n                                if empty uses instance namespace\n                              type: string\n                          required:\n                          - name\n                          type: object\n                      required:\n                      - apiVersion\n                      - kind\n                      - metadata\n                      type: object\n                    id:\n                      type: string\n                    includeWhen:\n                      items:\n                        type: string\n                      type: array\n                    readyWhen:\n                      items:\n                        type: string\n                      type: array\n                    template:\n                      type: object\n                      x-kubernetes-preserve-unknown-fields: true\n                  required:\n                  - id\n                  type: object\n                  x-kubernetes-validations:\n                  - message: exactly one of template or externalRef must be provided\n                    rule: (has(self.template) && !has(self.externalRef)) || (!has(self.template)\n                      && has(self.externalRef))\n                type: array\n              schema:\n                description: |-\n                  The schema of the resourcegraphdefinition, which includes the\n                  apiVersion, kind, spec, status, types, and some validation\n                  rules.\n                properties:\n                  additionalPrinterColumns:\n                    description: |-\n                      AdditionalPrinterColumns defines additional printer columns\n                      that will be passed down to the created CRD. If set, no\n                      default printer columns will be added to the created CRD,\n                      and if default printer columns need to be retained, they\n                      need to be added explicitly.\n                    items:\n                      description: CustomResourceColumnDefinition specifies a column\n                        for server side printing.\n                      properties:\n                        description:\n                          description: description is a human readable description\n                            of this column.\n                          type: string\n                        format:\n                          description: |-\n                            format is an optional OpenAPI type definition for this column. The 'name' format is applied\n                            to the primary identifier column to assist in clients identifying column is the resource name.\n                            See https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types for details.\n                          type: string\n                        jsonPath:\n                          description: |-\n                            jsonPath is a simple JSON path (i.e. with array notation) which is evaluated against\n                            each custom resource to produce the value for this column.\n                          type: string\n                        name:\n                          description: name is a human readable name for the column.\n                          type: string\n                        priority:\n                          description: |-\n                            priority is an integer defining the relative importance of this column compared to others. Lower\n                            numbers are considered higher priority. Columns that may be omitted in limited space scenarios\n                            should be given a priority greater than 0.\n                          format: int32\n                          type: integer\n                        type:\n                          description: |-\n                            type is an OpenAPI type definition for this column.\n                            See https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types for details.\n                          type: string\n                      required:\n                      - jsonPath\n                      - name\n                      - type\n                      type: object\n                    type: array\n                  apiVersion:\n                    description: |-\n                      The APIVersion of the resourcegraphdefinition. This is used to generate\n                      and create the CRD for the resourcegraphdefinition.\n                    pattern: ^v[0-9]+(alpha[0-9]+|beta[0-9]+)?$\n                    type: string\n                    x-kubernetes-validations:\n                    - message: apiVersion is immutable\n                      rule: self == oldSelf\n                  group:\n                    default: kro.run\n                    description: |-\n                      The group of the resourcegraphdefinition. This is used to set the API group\n                      of the generated CRD. If omitted, it defaults to \"kro.run\".\n                    type: string\n                  kind:\n                    description: |-\n                      The kind of the resourcegraphdefinition. This is used to generate\n                      and create the CRD for the resourcegraphdefinition.\n                    pattern: ^[A-Z][a-zA-Z0-9]{0,62}$\n                    type: string\n                    x-kubernetes-validations:\n                    - message: kind is immutable\n                      rule: self == oldSelf\n                  spec:\n                    description: |-\n                      The spec of the resourcegraphdefinition. Typically, this is the spec of\n                      the CRD that the resourcegraphdefinition is managing. This is adhering\n                      to the SimpleSchema spec\n                    type: object\n                    x-kubernetes-preserve-unknown-fields: true\n                  status:\n                    description: |-\n                      The status of the resourcegraphdefinition. This is the status of the CRD\n                      that the resourcegraphdefinition is managing. This is adhering to the\n                      SimpleSchema spec.\n                    type: object\n                    x-kubernetes-preserve-unknown-fields: true\n                  types:\n                    description: |-\n                      Types is a map of custom type definitions. These can be used in the spec\n                      of the resourcegraphdefinition. Each type definition is also adhering to\n                      the SimpleSchema spec.\n                    type: object\n                    x-kubernetes-preserve-unknown-fields: true\n                required:\n                - apiVersion\n                - kind\n                type: object\n            required:\n            - schema\n            type: object\n          status:\n            description: ResourceGraphDefinitionStatus defines the observed state\n              of ResourceGraphDefinition\n            properties:\n              conditions:\n                description: Conditions represent the latest available observations\n                  of an object's state\n                items:\n                  description: |-\n                    Condition is the common struct used by all CRDs managed by ACK service\n                    controllers to indicate terminal states  of the CR and its backend AWS\n                    service API resource\n                  properties:\n                    lastTransitionTime:\n                      description: Last time the condition transitioned from one status\n                        to another.\n                      format: date-time\n                      type: string\n                    message:\n                      description: A human-readable message indicating details about\n                        the transition.\n                      type: string\n                    observedGeneration:\n                      description: |-\n                        observedGeneration represents the .metadata.generation that the condition was set based upon.\n                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\n                        with respect to the current state of the instance.\n                      format: int64\n                      minimum: 0\n                      type: integer\n                    reason:\n                      description: The reason for the condition's last transition.\n                      type: string\n                    status:\n                      description: Status of the condition, one of True, False, Unknown.\n                      type: string\n                    type:\n                      description: Type is the type of the Condition\n                      type: string\n                  required:\n                  - status\n                  - type\n                  type: object\n                type: array\n              resources:\n                description: Resources represents the resources, and their information\n                  (dependencies for now)\n                items:\n                  description: |-\n                    ResourceInformation defines the information about a resource\n                    in the resourcegraphdefinition\n                  properties:\n                    dependencies:\n                      description: Dependencies represents the resource dependencies\n                        of a resource graph definition\n                      items:\n                        description: |-\n                          Dependency defines the dependency a resource has observed\n                          from the resources it points to based on expressions\n                        properties:\n                          id:\n                            description: ID represents the id of the dependency resource\n                            type: string\n                        type: object\n                      type: array\n                    id:\n                      description: ID represents the id of the resources we're providing\n                        information for\n                      type: string\n                  type: object\n                type: array\n              state:\n                description: State is the state of the resourcegraphdefinition\n                type: string\n              topologicalOrder:\n                description: TopologicalOrder is the topological order of the resourcegraphdefinition\n                  graph\n                items:\n                  type: string\n                type: array\n            type: object\n        type: object\n    served: true\n    storage: true\n    subresources:\n      status: {}\n",d={sidebar_position:1,sidebar_label:"ResourceGraphDefinition",hide_breadcrumbs:!0,hide_table_of_contents:!0},p="ResourceGraphDefinition",c={},l=[{value:"API Specification",id:"api-specification",level:2},{value:"Fields Reference",id:"fields-reference",level:2}];function h(e){const n={h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",...(0,s.R)(),...e.components},{Head:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{children:(0,r.jsx)("html",{className:"fullWidthContent"})}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"resourcegraphdefinition",children:"ResourceGraphDefinition"})}),"\n",(0,r.jsx)("div",{style:{fontSize:"1.2em",marginBottom:"2rem",color:"var(--ifm-color-emphasis-700)",lineHeight:"1.6"},children:(0,r.jsx)(n.p,{children:"The ResourceGraphDefinition (RGD) is kro's core API for defining custom Kubernetes resources that orchestrate multiple underlying resources."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"api-specification",children:"API Specification"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"3rem",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{flex:"1",minWidth:"200px",padding:"1.5rem",border:"1px solid var(--ifm-color-emphasis-200)",borderRadius:"12px",background:"var(--ifm-background-color)"},children:[(0,r.jsx)("div",{style:{fontSize:"0.85em",color:"var(--ifm-color-emphasis-600)",marginBottom:"0.5rem",fontWeight:"600"},children:"API Version"}),(0,r.jsx)("code",{style:{fontSize:"1.1em",color:"var(--ifm-color-primary)",fontWeight:"600"},children:"kro.run/v1alpha1"})]}),(0,r.jsxs)("div",{style:{flex:"1",minWidth:"200px",padding:"1.5rem",border:"1px solid var(--ifm-color-emphasis-200)",borderRadius:"12px",background:"var(--ifm-background-color)"},children:[(0,r.jsx)("div",{style:{fontSize:"0.85em",color:"var(--ifm-color-emphasis-600)",marginBottom:"0.5rem",fontWeight:"600"},children:"Kind"}),(0,r.jsx)("code",{style:{fontSize:"1.1em",color:"var(--ifm-color-primary)",fontWeight:"600"},children:"ResourceGraphDefinition"})]}),(0,r.jsxs)("div",{style:{flex:"1",minWidth:"200px",padding:"1.5rem",border:"1px solid var(--ifm-color-emphasis-200)",borderRadius:"12px",background:"var(--ifm-background-color)"},children:[(0,r.jsx)("div",{style:{fontSize:"0.85em",color:"var(--ifm-color-emphasis-600)",marginBottom:"0.5rem",fontWeight:"600"},children:"Scope"}),(0,r.jsx)("code",{style:{fontSize:"1.1em",color:"var(--ifm-color-primary)",fontWeight:"600"},children:"Cluster"})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"fields-reference",children:"Fields Reference"}),"\n",(0,r.jsx)(o.A,{crdYaml:a})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},13597:(e,n,t)=>{t.d(n,{A:()=>l});var i=t(96540),r=t(20382);const s={rgdReference:"rgdReference_VNj3",intro:"intro_EO70",section:"section_ViKB",tableWrapper:"tableWrapper_QDGn",fieldTable:"fieldTable_Hnxd",fieldRow:"fieldRow_yfBj",fieldName:"fieldName_m9ra",fieldNameContent:"fieldNameContent_zI7v",expandIconSpace:"expandIconSpace_Ci2C",expandIcon:"expandIcon_OiBL",fieldNameCode:"fieldNameCode_SMHV",requiredBadge:"requiredBadge_XGzt",immutableBadge:"immutableBadge_raFG",fieldType:"fieldType_ztHo",typeBadge:"typeBadge_RUiS",typeString:"typeString_LEO0",typeNumber:"typeNumber_wwQk",typeBoolean:"typeBoolean_CKwg",typeObject:"typeObject_tmBI",typeArray:"typeArray_qqd_",fieldDescription:"fieldDescription_Ul1h",noDescription:"noDescription_UHhN"};var o=t(74848);function a(e,n,t=[]){const i={name:e,type:n.type||"unknown",description:n.description,required:t.includes(e)};if(n["x-kubernetes-validations"]){n["x-kubernetes-validations"].some((e=>e.rule?.includes("== oldSelf")))&&(i.immutable=!0)}return"array"===n.type&&n.items&&(i.type=`[]${n.items.type||"object"}`,n.items.properties&&(i.properties=Object.entries(n.items.properties).map((([e,t])=>a(e,t,n.items?.required||[]))))),"object"===n.type&&n.properties&&(i.properties=Object.entries(n.properties).map((([e,t])=>a(e,t,n.required||[])))),i}function d({field:e,depth:n=0}){const[t,r]=(0,i.useState)(n<1),a=e.properties&&e.properties.length>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("tr",{className:s.fieldRow,children:[(0,o.jsx)("td",{className:s.fieldName,style:{paddingLeft:48*n+16+"px",borderLeft:n>0?"2px solid var(--ifm-color-emphasis-200)":"none"},children:(0,o.jsxs)("div",{className:s.fieldNameContent,children:[(0,o.jsx)("span",{className:s.expandIconSpace,children:a&&(0,o.jsx)("button",{className:s.expandIcon,onClick:()=>r(!t),"aria-label":t?"Collapse":"Expand",children:t?"\u2212":"+"})}),(0,o.jsx)("code",{className:s.fieldNameCode,children:e.name}),e.required&&(0,o.jsx)("span",{className:s.requiredBadge,children:"required"}),e.immutable&&(0,o.jsx)("span",{className:s.immutableBadge,children:"immutable"})]})}),(0,o.jsx)("td",{className:s.fieldType,children:(0,o.jsx)("span",{className:`${s.typeBadge} ${p(e.type)}`,children:e.type})}),(0,o.jsx)("td",{className:s.fieldDescription,children:e.description?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):(0,o.jsx)("span",{className:s.noDescription,children:"No description"})})]}),t&&a&&e.properties?.map((e=>(0,o.jsx)(d,{field:e,depth:n+1},e.name)))]})}function p(e){const n=e.replace(/\[\]/,"").toLowerCase();return"string"===n?s.typeString:"integer"===n||"number"===n?s.typeNumber:"boolean"===n?s.typeBoolean:"object"===n||"simpleschema"===n?s.typeObject:e.includes("[]")?s.typeArray:s.typeObject}function c({fields:e,title:n}){return e&&0!==e.length?(0,o.jsxs)("div",{className:s.section,children:[(0,o.jsx)("h3",{children:n}),(0,o.jsx)("div",{className:s.tableWrapper,children:(0,o.jsxs)("table",{className:s.fieldTable,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{width:"40%"},children:"Field"}),(0,o.jsx)("th",{style:{width:"15%"},children:"Type"}),(0,o.jsx)("th",{style:{width:"45%"},children:"Description"})]})}),(0,o.jsx)("tbody",{children:e.map((e=>(0,o.jsx)(d,{field:e},e.name)))})]})})]}):null}function l({crdYaml:e}){const n=r.Ay.load(e),{specFields:t,statusFields:i}=function(e){const n=e?.spec?.versions?.[0]?.schema?.openAPIV3Schema,t=n?.properties?.spec?.properties||{},i=n?.properties?.spec?.required||[],r=n?.properties?.status?.properties||{};return{specFields:Object.entries(t).map((([e,n])=>a(e,n,i))),statusFields:Object.entries(r).map((([e,n])=>a(e,n,[])))}}(n);return(0,o.jsxs)("div",{className:s.rgdReference,children:[(0,o.jsx)(c,{fields:t,title:"Spec"}),(0,o.jsx)(c,{fields:i,title:"Status"})]})}}}]);